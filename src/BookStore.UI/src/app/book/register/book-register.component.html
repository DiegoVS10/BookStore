<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">
      <i class="fa fa-home"></i>
    </li>
    <li class="breadcrumb-item" aria-current="page">
      <a>{{pageTitle}}</a>
    </li>
  </ol>
</nav>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="row form-group">
    <div class="col-sm-12">
      <label for="title">Titulo</label>
      <input [(ngModel)]="book.title" formControlName="title" type="text" class="form-control" [ngClass]="{
        'is-invalid': form.controls.title.invalid && (form.controls.title.dirty || form.controls.title.touched),
        'is-valid': form.controls.title.valid && (form.controls.title.dirty || form.controls.title.touched)
      }">
      <div *ngIf="form.controls.title.invalid && (form.controls.title.dirty || form.controls.title.touched)" class="invalid-feedback">
          Titulo é obrigatório
      </div>
    </div>
  </div>

  <div class="row form-group">
    <div class="col-sm-6">
      <label for="author">Autor</label>
      <input [(ngModel)]="book.author" formControlName="author" type="text" class="form-control" formControlName="author" maxlength="100" [ngClass]="{
        'is-invalid': form.controls.author.invalid && (form.controls.author.dirty || form.controls.author.touched),
        'is-valid': form.controls.author.valid && (form.controls.author.dirty || form.controls.author.touched)
      }">
      <div *ngIf="form.controls.author.invalid && (form.controls.author.dirty || form.controls.author.touched)" class="invalid-feedback">
          Autor é obrigatório
      </div> 
    </div>
    <div class="col-sm-6">
      <label for="edition">Edição</label>
      <input [(ngModel)]="book.edition" formControlName="edition" type="text" class="form-control" maxlength="10" [ngClass]="{
        'is-invalid': form.controls.edition.invalid && (form.controls.edition.dirty || form.controls.edition.touched),
        'is-valid': form.controls.edition.valid && (form.controls.edition.dirty || form.controls.edition.touched)
      }">
      <div *ngIf="form.controls.edition.invalid && (form.controls.edition.dirty || form.controls.edition.touched)" class="invalid-feedback">
          Edição é obrigatório
      </div> 
    </div>
  </div>

  <div class="row form-group">
    <div class="col-sm-6">
      <label for="publisher">Editora</label>
      <input [(ngModel)]="book.publisher" formControlName="publisher" type="text" class="form-control" maxlength="100"  [ngClass]="{
        'is-invalid': form.controls.publisher.invalid && (form.controls.publisher.dirty || form.controls.publisher.touched),
        'is-valid': form.controls.publisher.valid && (form.controls.publisher.dirty || form.controls.publisher.touched)
      }">
      <div *ngIf="form.controls.publisher.invalid && (form.controls.publisher.dirty || form.controls.publisher.touched)" class="invalid-feedback">
          Editora é obrigatório
      </div>  
    </div>
    <div class="col-sm-6">
      <label for="isbn">ISBN</label>
      <input [(ngModel)]="book.isbn" formControlName="isbn" type="text" class="form-control" maxlength="13" [ngClass]="{
        'is-invalid': form.controls.isbn.invalid && (form.controls.isbn.dirty || form.controls.isbn.touched),
        'is-valid': form.controls.isbn.valid && (form.controls.isbn.dirty || form.controls.isbn.touched)
      }">
      <div *ngIf="form.controls.isbn.invalid && (form.controls.isbn.dirty || form.controls.isbn.touched)" class="invalid-feedback">
          ISBN é obrigatório
      </div>  
    </div>
  </div>

  <div class="row form-group">
    <div class="col-sm-6">
      <label for="quantity">Quantidade</label>
      <input [(ngModel)]="book.quantity" formControlName="quantity" type="number" class="form-control" [ngClass]="{
        'is-invalid': form.controls.quantity.invalid && (form.controls.quantity.dirty || form.controls.quantity.touched),
        'is-valid': form.controls.quantity.valid && (form.controls.quantity.dirty || form.controls.quantity.touched)
      }">
      <div *ngIf="form.controls.quantity.invalid && (form.controls.quantity.dirty || form.controls.quantity.touched)" class="invalid-feedback">
        Quantidade é obrigatório
      </div>  
    </div>
    <div class="col-sm-6">
      <label for="price">Preço</label>
      <input currencyMask [(ngModel)]="book.price" [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }" type="text" class="form-control" formControlName="price" [ngClass]="{
        'is-invalid': form.controls.price.invalid && (form.controls.price.dirty || form.controls.price.touched),
        'is-valid': form.controls.price.valid && (form.controls.price.dirty || form.controls.price.touched)
      }">
      <div *ngIf="form.controls.price.invalid && (form.controls.price.dirty || form.controls.price.touched)" class="invalid-feedback">
          Preço é obrigatório
      </div>  
    </div>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="!form.valid">Salvar</button>
  <a [routerLink]="['/livros']" href="javascript:;" class="btn btn-danger">Cancelar</a>

</form>